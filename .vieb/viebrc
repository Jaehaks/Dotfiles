" Options

" adblock
set adblocker=static
set adblockernotifications=all

" external / download
set externalcommand=
" -- open nvim using terminal, temp files will be removed after vieb is closed"
" -- write something in textbox right after closing the nvim instance or the text will be removed especially in github
set vimcommand="start nvim -c \"set filetype=markdown\""
set nocleardownloadsoncompleted
set cleardownloadsonquit
" -- don't ask
set downloadmethod=confirm
set downloadpath=~/Desktop/
set pdfbehavior=view

" gui
set guifontsize=18
" -- hide timeout navbar / tabbar in fullscreen mode
set guihidetimeout=2000
set guinavbar=always
set guiscrollbar=always
set guitabbar=always
" -- page loading progress bar + spinner mark on tabbar
set loadingindicator=all

" key completion window
set mapsuggest=9000000000000000
set mapsuggestposition=bottomleft

" restore tabs at startup
set restoretabs=all

" appearance (not work?)
set windowfullscreen=restore
set windowmaximize=restore
set windowposition=restore
set windowsize=restore
set windowtitle="%app - %title"
set noshowcmd
set shell=cmd
set smartcase
set spell

" agent - to login google
set useragent=%filefox

" windows management
set closablepinnedtabs
set tabclosefocus=left
set notabcycle
set tabnewposition=right
set tabreopenposition=right
" -- mute for new tab
set tabopenmuted=never
set taboverflow=scroll
" -- mute for reopen tab
set tabreopenmuted=remember
set tabreopenposition=right
set keeprecentlyclosed
" -- quit if last window is closed
set quitonlasttabclose

" split
set splitbelow
set splitright

" darkmode
set nodarkreader
set darkreaderfg=#e8e6e3
set darkreaderbg=#181a1b
set darkreaderbrightness=100
set darkreadercontrast=100
set darkreadergrayscale=0
set darkreadermode=dark
set darkreadersepia=0
set darkreadertextstroke=0
set nativetheme=dark
" search
" -- default search engine
set searchengine=["https://www.google.com/search?q=%s"]
" -- additional search engines
set searchwords+=y~youtube.com/results?search_query=%s
set searchwords+=n~https://search.naver.com/search.naver?query=%s
set searchwords+=gh~https://github.com/search?q=%s
set searchwords+=gs~https://scholar.google.com/scholar?q=%s
set searchwords+=nd~https://dict.naver.com/dict.search?dicQuery=%s&query=%s
set searchwords+=nm~https://namu.wiki/Go?q=%s
set ignorecase
set noincsearch
" -- if <emptySearch>, remove searched word in query both global and local
set searchemptyscope=both
" -- if you enter 'pointer mode' while search word is highlighted, press 'n' or 'N'
"  then pointer will stick to left of search word to convenient visualization
set searchpointeralignment=left
" -- if you enter 'n' after <useEnterData>(<CR>), it starts search from last
"  searched word without moving focus.
set searchscope=inclocal
" copy
set encodeurlcopy=nospaces
set encodeurlext=nospaces
" notify
set notificationduration=5000
set notificationforpermissions=all
" -- for debug
set notificationforsystemcommands=errors
set notificationlimitsmall=3
set notificationposition=bottomright
" -- use vieb notification instead of system
set nativenotification=never
set dialogalert=notifyblock
set dialogconfirm=notifyallow
set dialogprompt=notifyblock

" mouse
set mouse=all
set mousedisabledbehavior=nothing
set nomousefocus
set mousenewtabswitch
set mousevisualmode=onswitch
set menupage=elementasneeded
set menusuggest=never
set menuvieb=both

" special pages
" -- replace current tab if it is new tab
set replacespecial=newtab
set replacestartup=never

" favorite list of new tab pages"
set favoritepages+=www.google.com
set favoritepages+=www.naver.com
set favoritepages+=www.youtube.com
set favoritepages+=www.github.com
set favoritepages+=gemini.google.com/app
set favoritepages+=www.perplexity.ai
set favoritepages+=claude.ai/new
" -- nothing no new tab
set newtaburl=
" -- nothing suggestion site on new tab page
set suggesttopsites=0

" follow mode
set followelement=["url","onclick","inputs-insert","inputs-click","other"]
" -- exit if key is not matching with anything
set followfallbackaction=exit
set followlabelposition=outsidebottomright
" -- focus to new tab if you enter using 'F'
" -- if you remain pressing 'shift', the focus remains current tab and you can open continuous tabs
set follownewtabswitch

" mark
" -- if restoretab from 'M<Any>', open in current tab. It is like bookmark
set markposition=open
" -- if you restore tab with "+shift+<Any>, open in new tab
set markpositionshifted=newtab

" permission
set permissiongeolocation=allow
set permissionmicrophone=ask
set permissionnotifications=allow
set permissionpersistentstorage=block
set permissionpointerlock=ask
" -- to login naver, sensors allowed
set permissionsallowed+=naver.com~sensors
" -- to login claude, but only email login is allowed, not google id
set permissionsallowed+=claude.ai~mediadevices
" -- stopping page load automatically timeout
set requesttimeout=10000
" -- block sponsor ad on youtube"
set sponsorblock


" suspends
" -- pause background tab to memory
set suspendbackgroundtab
" -- not load all restoretab to faster startup time
set suspendonrestore=regular
" -- pause timeout when you don't use the tab (not use this now)
set suspendtimeout=0

" don't timeout close for pressing key
set notimeout
set timeoutlen=2000

" translate
" you can :translatepage command to translate current page but it needs api key
" only deepl and libretranslate is supported
set translateapi=auto
set translatekey=
" set translatelang=ko
set translateurl=https://api-free.deepl.com/v2/




" use user colorschem
" 1) follow hint font size increase
colorscheme darkmode

" user commands
unmap s

" clear all maps
" mapclear!

" scrolling
nmap j <scrollUp>
nmap k <scrollDown>
nmap ] <nextPage>
nmap [ <previousPage>
nmap <C-p> <increasePageNumber>
nmap <C-n> <decreasePageNumber>

" window managing
unmap q<Any>
unmap q<C-[>
unmap q<Esc>
nmap q <:close>
nmap wq <:lclose>
nmap we <:rclose>
nmap ww <:lclose><:rclose>

" tab
nmap <C-j> <moveTabBackward>
nmap <C-k> <moveTabForward>
nmap <A-n> <previousTab>
nmap <A-m> <nextTab>
nmap J <previousTab>
nmap K <nextTab>
nmap u <reopenTab>
nmap T <openNewTabWithCurrentUrl><CR>
nmap o <toExploreMode><BS>
nmap O <:tabnew><toExploreMode>
nmap go <toExploreMode><End>
nmap g0 <:buffer 0>
nmap g$ <:buffer -1>
nmap <C-Tab> <:buffer #>
nmap p <openFromClipboard>
nmap P <:tabnew><openFromClipboard>
nmap r <refreshTab>
nmap R <refreshTabWithoutCache>
nmap H <backInHistory>
nmap L <forwardInHistory>
nmap <C-m> <:mute>

" using g command
" -- toggle sourceview
unmap gF
unmap gf
" -- toggle markview viewer
unmap gM
" -- toggle reader view : don't know
unmap gr
" -- toggle root/parent subdomain : don't know
unmap gs
unmap gS
" -- previousTab
unmap gT
unmap g<C-a>
unmap g<C-x>
nmap gt <toggleTOC>
" -- discard tailed slash in url
nmap gu <toParentUrl>
nmap gU <toRootUrl>
nmap gh <:history>
nmap gm <menuOpen>
mmap <C-j> <menuUp>
mmap <C-k> <menuDown>

" split view
nmap <C-w><C-n> <pageToClipboard><:split><openFromClipboard>
nmap <C-w><C-m> <pageToClipboard><:vsplit><openFromClipboard>
nmap <C-w><C-j> <toTopSplitWindow>
nmap <C-w><C-k> <toBottomSplitWindow>
nmap <C-w><C-J> <topHalfSplitWindow>
nmap <C-w><C-K> <bottomHalfSplitWindow>
" -- use it rather than close, it doesn't support split close
nmap <C-w><C-o> <:only>

" mark
nmap m<Any> <storeScrollPos>
nmap '<Any> <restoreScrollPos>
" -- page mark
nmap M<Any> <makeMark>
nmap "<Any> <restoreMark>
" -- pointer mark
pmap a<Any> <p.storePos>
vmap a<Any> <p.storePos>

" zoom
nmap = <zoomReset>
nmap + <zoomIn>
nmap - <zoomOut>

" using url
unmap d
nmap x <:set externalcommand="python %HOME%/.vieb/download_and_run.py"><openLinkExternal>
nmap yf <startFollowCopyLink>
nmap yy <pageToClipboard>
nmap ym <pageToClipboardMarkdown>
" -- download the url
nmap D <DownloadLink>
pmap yi <p.copyImage>
pmap yy <p.copyLink>
pmap D <p.downloadLink>

" editing
nmap gi <insertAtFirstInput>
imap <A-e> <editWithVim>
inoremap <CR> <CR><toNormalMode>
cmap <C-]> <toNormalMode>
emap <C-]> <toNormalMode>
imap <C-]> <toNormalMode>
pmap <C-]> <toNormalMode>
smap <C-]> <toNormalMode>
vmap <C-]> <toNormalMode>

" others
nmap <C-A-p> <:print>
" -- toggle dark mode
" -- some insert box doesn't show their characters in dark mode
nmap d <:set darkreader!>





" command mode
cmap <A-e> <editWithVim>
cmap <C-a> <Home>
cmap <C-e> <End>
cmap <C-h> <Left>
cmap <C-l> <Right>
cmap <C-A-h> <C-Left>
cmap <C-A-l> <C-Right>
cmap <C-d> <Del>
cmap <C-j> <prevSuggestion>
cmap <C-k> <nextSuggestion>

" search mode
smap <A-e> <editWithVim>
smap <C-a> <Home>
smap <C-e> <End>
smap <C-h> <Left>
smap <C-l> <Right>
smap <C-A-h> <C-Left>
smap <C-A-l> <C-Right>
smap <C-d> <Del>
" -- remove highlight
nnoremap <Esc> <Esc><emptySearch>

" explorer mode
emap <A-e> <editWithVim>
emap <C-a> <Home>
emap <C-e> <End>
emap <C-h> <Left>
emap <C-l> <Right>
emap <C-A-h> <C-Left>
emap <C-A-l> <C-Right>
emap <C-d> <Del>
emap <C-j> <prevSuggestion>
emap <C-k> <nextSuggestion>
emap <C-p> <exploreHistoryPrevious>
emap <C-n> <exploreHistoryNext>
emap <Tab> <nextSuggestionSection>
emap <S-Tab> <prevSuggestionSection>

" pointer mode
punmap e
nmap v <p.start>

pmap <CR> <p.leftClick>
pmap <S-CR> <p.newtabLink>
pmap r <p.rightClick>
pmap i <p.insertAtPosition>
pmap j <p.moveUp>
pmap k <p.moveDown>
pmap J <p.scrollUp>
pmap K <p.scrollDown>
pmap <C-j> <p.moveSlowUp>
pmap <C-k> <p.moveSlowDown>
pmap M <p.centerOfView>
pmap v <p.startVisualSelect>

vmap c <toNormalMode><p.start>
vmap r <p.rightClick>
vmap j <p.moveUp>
vmap k <p.moveDown>
vmap J <p.scrollUp>
vmap K <p.scrollDown>
vmap <C-j> <p.moveSlowUp>
vmap <C-k> <p.moveSlowDown>
vmap M <p.centerOfView>
vmap y <p.copyText><toNormalMode>
vmap o <p.openText><toNormalMode>
vmap ss <p.searchText><toNormalMode>
vmap sh <p.splitText><toNormalMode>
vmap sv <p.vsplitText><toNormalMode>
vmap * <p.searchText><toNormalMode>



" Viebrc generated by Vieb
" vim: ft=vim
